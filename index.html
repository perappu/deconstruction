<html>
<head>

<meta charset="utf-8">

<style>

body {
    padding: 0;
    margin: 0;
}

/* Position styling for parallax container and layers */
#toggle {
    position: fixed;
    right:0;
    bottom:0;
    margin: 1%;
    padding: 1%;
    z-index: 1000;
    cursor: pointer;
}

#left {
    z-index: 900;
    width: 50%;
    height: 100%;
    position: fixed;
}

#right {
    z-index: 900;
    left: 50%;
    width: 50%;
    height: 100%;
    position: fixed;
}

.scene, .layer {
    display: block;
    height: 100%;
    width: 100%;
    padding: 0;
    margin: 0; 
}

.layer {
    height: 100%;
    width: 100%;
}

.scene {
    display: block;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    position: relative;
    margin: 0 auto;
    width: 300%;
    left: -100%;
    height: 130%;
    top: -10%;
}

.container {
    width: 100%;
    min-height: 768px;
    height: 100%;
    position: relative;
    overflow: hidden;
}

.image {
    height: 100%;
    width: 100%;
    background-repeat: no-repeat;
    background-size: contain;
    background-position: center;
}

/* Default styling for each layer */
#image1 {
    background-image: url("");
}

#image2 {
    background-image: url("images/0/photo.png");
}

#image3 {
    background-image: url("");
}

#image4 {
    background-image: url("");
}

#image5 {
    background-image: url("");
}

</style>

</head>

<body>

<!--Toggle button-->
<div id="toggle"><img src="images/shuffle.png"></div>

<!--Invisible left/right buttons-->
<div id="left"></div>
<div id="right"></div>

<!--Parallax layers-->
<div id="container" class="container">
    <ul id="scene" class="scene">
        <li class="layer" data-depth="0.50"><div class="image" id="image5"></div></li>
        <li class="layer" data-depth="0.60"><div class="image" id="image4"></div></li>
        <li class="layer" data-depth="0.70"><div class="image" id="image3"></div></li>
        <li class="layer" data-depth="0.80"><div class="image" id="image2"></div></li>
        <li class="layer" data-depth="0.90"><div class="image" id="image1"></div></li>
    </ul>
</div>

<!--Scripts-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="./js/jquery.parallax.min.js"></script>
<script src="./js/parallax.min.js"></script>
<script>

//Image arrays
//Tells which file names to look for in each given set
set0 = ["","photo.png","","",""];
set1 = ["5.png","4.png","3.png","2.png","1.png"];
set2 = ["10.png","9.png","8.png","7.png","6.png"];
set3 = ["15.png","14.png","13.png","12.png","11.png"];
set4 = ["20.png","19.png","18.png","17.png","16.png"];
set5 = ["25.png","24.png","23.png","22.png","21.png"];

//Default settings for the current image and position
imageSet = 0;
position = 0;

//Function to refresh the shown image based on settings
//Sets the background-image of each parallax layer to be the respective image in a given set
function refreshImage() {

    if ( imageSet == 0 ) {
        $( ".image" ).each(function( index, element ) {
            if (set0[index] != "") {
                $( this ).css("background-image", "url(images/" + position + "/" + set0[index] + ")");
                console.log(set0[index]);
            } else {
                $( this ).css("background-image", "none");
                console.log(set0[index]);
            }
        });
      
    } else if ( imageSet == 1 ) {
        
        $( ".image" ).each(function( index, element ) {
            if (set1[index] != "") {
                $( this ).css("background-image", "url(images/" + position + "/" + set1[index] + ")");
                console.log(set1[index]);
            } else {
                $( this ).css("background-image", "none");
                console.log(set1[index]);
            }
        });
        
    } else if ( imageSet == 2 ) {
        
        $( ".image" ).each(function( index, element ) {
            if (set2[index] != "") {
                $( this ).css("background-image", "url(images/" + position + "/" + set2[index] + ")");
                console.log(set2[index]);
            } else {
                $( this ).css("background-image", "none");
                console.log(set2[index]);
            }
        });
        
    } else if ( imageSet == 3 ) {
        
        $( ".image" ).each(function( index, element ) {
            if (set3[index] != "") {
                $( this ).css("background-image", "url(images/" + position + "/" + set3[index] + ")");
                console.log(set3[index]);
            } else {
                $( this ).css("background-image", "none");
                console.log(set3[index]);
            }
        });
        
    } else if ( imageSet == 4 ) {
        
        $( ".image" ).each(function( index, element ) {
            if (set4[index] != "") {
                $( this ).css("background-image", "url(images/" + position + "/" + set4[index] + ")");
                console.log(set4[index]);
            } else {
                $( this ).css("background-image", "none");
                console.log(set4[index]);
            }
        });
        
    } else if ( imageSet == 5 ) {
        
        $( ".image" ).each(function( index, element ) {
            if (set5[index] != "") {
                $( this ).css("background-image", "url(images/" + position + "/" + set5[index] + ")");
                console.log(set5[index]);
            } else {
                $( this ).css("background-image", "none");
                console.log(set5[index]);
            }
        });
        
    }

}

//Controls for the left and right movement
//Checks for and prevents the position from being impossible, i.e. higher than 2 or lower than 0
$( "#left" ).click(function() { 
     position--;
     if(position == -1) {
        position = 0;
    }
    
    refreshImage();
});

$( "#right" ).click(function() { 
    position++;
     if(position == 3) {
        position = 2;
    } 
    
    refreshImage();
});

//Script for toggle button
//Switches through each set and refreshes image each time
$( "#toggle" ).click(function() {
    console.log(imageSet);
    imageSet++;
    if ( imageSet > 5 ) {
        imageSet = 0;
    }
    refreshImage();
    
  });
  
//Initialize parallax effect
$('#scene').parallax();

</script>

</body>

</html>